# GameHub - –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üéØ –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

GameHub - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ Rust —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º gRPC –∏ HTTP API.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞:
```
Frontend (React/Vue) 
    ‚Üì HTTP REST API
Gateway Service (Actix-web) :8080
    ‚Üì gRPC
User Service :50051  ‚Üê‚Üí  Game Service :50052
    ‚Üì                        ‚Üì
PostgreSQL Database :5432
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
gamehub/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ user-service/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ game-service/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏  
‚îÇ   ‚îú‚îÄ‚îÄ gateway-service/       # HTTP API Gateway
‚îÇ   ‚îî‚îÄ‚îÄ product-service/       # –ü—Ä–æ–¥—É–∫—Ç—ã (–∑–∞–≥–ª—É—à–∫–∞)
‚îú‚îÄ‚îÄ proto/                     # Protocol Buffers —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ user.proto
‚îÇ   ‚îî‚îÄ‚îÄ game.proto
‚îú‚îÄ‚îÄ common/                    # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ docker-compose.yml         # PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

### 1. User Service (–ü–æ—Ä—Ç 50051) - –ì–û–¢–û–í ‚úÖ
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ gRPC —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–ª–Ω—ã–º CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–ª–∏—Ü–µ–π users
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- ‚úÖ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: Player, Developer, Admin
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**API –º–µ—Ç–æ–¥—ã:**
- `GetUser(id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `CreateUser(email, username, password, role)` - —Å–æ–∑–¥–∞–Ω–∏–µ
- `UpdateUser(id, –ø–æ–ª—è)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DeleteUser(id)` - —É–¥–∞–ª–µ–Ω–∏–µ
- `ListUsers(limit, offset, role)` - —Å–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

### 2. Game Service (–ü–æ—Ä—Ç 50052) - –ì–û–¢–û–í ‚úÖ  
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ gRPC —Å–µ—Ä–≤–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–∞–º–∏
- ‚úÖ HTTP API —Å–µ—Ä–≤–µ—Ä (Axum) –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–ª–∏—Ü–µ–π games
- ‚úÖ –°–ª–æ–∂–Ω–∞—è –º–æ–¥–µ–ª—å –∏–≥—Ä—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ç–µ–≥–∞–º–∏, —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –∏–≥—Ä: Draft, Under Review, Published, Suspended
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–≥—Ä
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**API –º–µ—Ç–æ–¥—ã:**
- `CreateGame()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã
- `GetGame(id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–≥—Ä—ã
- `UpdateGame(id, –ø–æ–ª—è)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DeleteGame(id, developer_id)` - —É–¥–∞–ª–µ–Ω–∏–µ
- `ListGames(—Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)` - –ø–æ–∏—Å–∫ –∏–≥—Ä

### 3. Gateway Service (–ü–æ—Ä—Ç 8080) - –ì–û–¢–û–í ‚úÖ
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–ª—è User API

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ HTTP REST API gateway –Ω–∞ Actix-web
- ‚úÖ Middleware: rate limiting, request ID, CORS
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ User Service —á–µ—Ä–µ–∑ gRPC
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤

**HTTP Endpoints:**
- `POST /api/users` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- `PUT /api/users/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /api/users/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users?limit&offset` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –ù–ê–°–¢–†–û–ï–ù–ê ‚úÖ
**–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ PostgreSQL –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- ‚úÖ –†–æ–ª—å postgres —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö gamehub —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ users —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ games —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### 5. Protocol Buffers - –ì–û–¢–û–í–´ ‚úÖ
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

**–°—Ö–µ–º—ã:**
- ‚úÖ user.proto - –ø–æ–ª–Ω–æ–µ API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ game.proto - –ø–æ–ª–Ω–æ–µ API –¥–ª—è –∏–≥—Ä
- ‚úÖ Enum'—ã –¥–ª—è —Ä–æ–ª–µ–π, –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Å—Ç–∞—Ç—É—Å–æ–≤

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å

### 1. Gateway Service - Game API (–ß–∞—Å—Ç–∏—á–Ω–æ)
**–°—Ç–∞—Ç—É—Å:** –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ Game Service

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- üîÑ HTTP endpoints –¥–ª—è –∏–≥—Ä (/api/games/*)
- üîÑ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Game Service gRPC –∫–ª–∏–µ–Ω—Ç—É
- üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HTTP ‚Üî gRPC –¥–ª—è –∏–≥—Ä

### 2. Product Service - –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù ‚ùå
**–°—Ç–∞—Ç—É—Å:** –¢–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∞ (Hello World)

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- üîÑ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
- üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üîÑ –î–æ–±–∞–≤–∏—Ç—å –≤ gateway

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê ‚ùå
**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- üîÑ JWT —Ç–æ–∫–µ–Ω—ã
- üîÑ Middleware –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- üîÑ –ó–∞—â–∏—Ç–∞ endpoints –ø–æ —Ä–æ–ª—è–º
- üîÑ Login/logout API

### 4. –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ - –ß–ê–°–¢–ò–ß–ù–û ‚ùå
**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- üîÑ –°–≤—è–∑—å –∏–≥—Ä —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ (developer_id ‚Üí users.id)
- üîÑ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–≥—Ä
- üîÑ –ö–∞—Å–∫–∞–¥–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫:
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./run-services.sh
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:
```bash
# 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker-compose up -d

# 2. User Service  
cargo run -p user-service

# 3. Game Service
cargo run -p game-service  

# 4. Gateway Service
cargo run -p gateway-service
```

### –ü–æ—Ä—Ç—ã:
- **PostgreSQL:** 5432
- **User Service gRPC:** 50051
- **Game Service gRPC:** 50052
- **Game Service HTTP:** 8080 (–¥—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏)
- **Gateway HTTP API:** 8080

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","username":"testuser","password":"password123","role":"player"}'

# –¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
curl http://localhost:8080/api/users/{user_id}
```

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1:** –î–æ–±–∞–≤–∏—Ç—å Game API –≤ Gateway Service
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3:** –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
4. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Product Service
5. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5:** –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** `postgresql://postgres:123456789@localhost:5432/gamehub`

**–¢–∞–±–ª–∏—Ü—ã:**
- `users` (id, email, username, password_hash, role, created_at, updated_at)
- `games` (id, name, description, developer_id, categories[], tags[], price, status, –∏ –¥—Ä.)

---
*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-09-20*